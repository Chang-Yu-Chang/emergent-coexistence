---
title: "PCR protocol for CASEU"
author: "Chang-Yu Chang"
date: "`r Sys.Date()`" 
output: 
    pdf_document: default
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(tidyverse)
library(data.table)
library(janitor)
library(kableExtra)
```

## Aim

PCR the extracted DNA for CASEU `r n_plate = 1`

## Procedures

### Preparation steps:

```{r}
n_plate = 1
# Reagents required per well
tb_mastermix <- data.frame(
  Reagent = c("ddH20", "5X HF buffer", "dNTPs (10mM)", "Phusion"),
  WellVolume = c(23.5, 10, 1, 0.5),
  stringsAsFactors = F
) %>%
  mutate(TotalVolume = WellVolume * n_plate * 108 * 2) %>%
  janitor::adorn_totals()

tb_pcr <- data.frame(
    Reagent = c("PCR master mix", "27F primer (3uM)", "1492R primer (3uM)", "template DNA"),
    WellVolume = c(35, 5, 5, 5), 
    stringsAsFactors = F)  %>%
    mutate(TotalVolume = WellVolume * n_plate * 108 * 2) %>%
    janitor::adorn_totals() 

knitr::kable(list(tb_mastermix, tb_pcr), format = "pandoc")
```

-   [ ] Label `r n_plate * 2` PCR plates. For duplicated PCR.
-   [ ] Make **`r total_primer_volume = n_plate * 5 * 108 * 2; total_primer_volume` uL** of 3uM of each primer (`r total_primer_volume * 0.03` uL 100 uM stock + `r total_primer_volume * 0.97` uL ddH2O).
-   [ ] Premix the PCR reagents (total `r n_plate * 35 * 108 * 2 / 1000` mL) in a 50 mL falcon tube.
-   [ ] Use mP200 to dispense $35 \mu L$ of PCR master mix into each well of `r n_plate * 2` PCR plates. This premix can stay at room temperature.
-   [ ] Right before starting the PCR reaction, use mP20 to add $5 \mu L$ of primers.
-   [ ] Use mP20 to add $5 \mu L$ of DNA. Cover the PCR plates with clear PCR films.
-   [ ] Use the program "CASEU" in "16S" folder. See the table below for PCR cycle.
-   [ ] Store PCR plates in -20C freezer.


Step                     |  Temperature | Duration
-------------------------|--------------|-----------
Initial denaturation     | 98 C         | 30 seconds
Amplification (30 cycles)| 98 C         | 30 seconds
\space                   | 50 C         | 30 seconds
\space                   | 72 C         | 90 seconds
Final extension          | 72 C         | 10 minutes
Storage                  | 4 C          | Forever

Table: CASEU PCR cycle. 
